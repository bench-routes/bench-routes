(this["webpackJsonpbench-routes-ui"]=this["webpackJsonpbench-routes-ui"]||[]).push([[0],{206:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(0),r=a.n(n),c=a(354),l=a.n(c),i=a(364),o=a.n(i),s=a(355),u=a.n(s),m=a(362),d=a.n(m),f=a(264),p=a.n(f),h=a(263),v=a.n(h),b=a(356),y=a.n(b),E=a(357),g=a.n(E),j=a(359),O=a.n(j),k=a(360),S=a.n(k),w=a(361),x=a.n(w),C=a(365),N=a.n(C),R=a(358),M=a.n(R),P=a(363),B=a.n(P),T=a(366),F=a.n(T),L={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(l.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(u.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(O.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(x.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(d.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))}))}},369:function(e,t,a){"use strict";a.r(t),a.d(t,"columns",(function(){return s}));var n=a(0),r=a.n(n),c=a(206),l=a(370),i=a.n(l),o=a(215),s=[{field:"route",title:"Route"},{field:"methods",title:"Methods",render:function(e){return e.methods.map((function(t,a){return a%2?r.a.createElement(o.a,{key:e.route+t,color:"secondary",label:t,size:"small",style:{marginLeft:"1%"}}):r.a.createElement(o.a,{key:e.route+t,color:"primary",label:t,size:"small",style:{marginLeft:"1%"}})}))}}];t.default=function(e){return r.a.createElement(i.a,Object.assign({icons:c.a,style:{marginTop:"2vh"},options:{headerStyle:{fontSize:18,fontWeight:"normal"}}},e))}},385:function(e,t,a){e.exports=a(455)},390:function(e,t,a){},391:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(17),i=a.n(l),o=a(10),s=a(130),u=a(125),m=a(122),d=a(350),f=a(491),p=(a(390),a(391),a(494)),h=a(331),v=a(498),b=a(493),y=a(478),E=a(330),g=a(259),j=a(98),O=a(342),k=a(324),S=a(510),w=a(2),x=a(83),C=a(31),N=a(81),R="http://localhost:9090",M=a(27),P=a.n(M),B=a(57),T=a(323),F=a(255),L=function(e){var t=Object(r.useState)(e.durationValue||""),a=Object(o.a)(t,2),n=a[0],l=a[1],i=function(){var t=Object(B.a)(P.a.mark((function t(a,r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(R,"/config/update-interval"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({intervalName:r,value:n})}).then((function(e){return e.json()})).then((function(t){"200"===t.status&&(e.toggleComponentView(r),e.reFetch())}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,e.toggleResults[e.intervalName]?c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(t){return i(t,e.intervalName)},style:{display:"flex"}},c.a.createElement(T.a,{id:"outlined-basic",label:e.durationValue,variant:"outlined",onChange:function(e){return function(e){l(e.target.value)}(e)}}),c.a.createElement(F.a,{variant:"contained",color:"primary",style:{marginLeft:"4px"},type:"submit"},"Go"))):c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(j.a,{variant:"h2",align:"center"},e.durationValue)))},W=a(483),D=a(489),z=a(326),U=a(105),I=a(500),A=a(501),H=function(e,t){var a=Object(r.useState)({status:"start fetching"}),n=Object(o.a)(a,2),c=n[0],l=n[1],i=Object(r.useState)(),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(r.useState)(!1),f=Object(o.a)(d,2),p=f[0],h=f[1],v=Object(r.useState)(!1),b=Object(o.a)(v,2),y=b[0],E=b[1];return Object(r.useEffect)((function(){var a=function(){var a=Object(B.a)(P.a.mark((function a(){var n,r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,h(!0),E(!0),a.next=5,fetch(e,Object(N.a)({cache:"no-cache",credentials:"same-origin"},t));case 5:if((n=a.sent).ok){a.next=10;break}throw h(!1),E(!1),new Error(n.statusText);case 10:return a.next=12,n.json();case 12:r=a.sent,l(r),h(!1),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),m(a.t0);case 20:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(){return a.apply(this,arguments)}}();y||setTimeout((function(){a()}),1e3)}),[e,t,y]),{response:c,error:u,isLoading:p}},J=a(512),q=a(206),V=a(484),G=a(485),_=a(215),K=a(486),X=a(511),Q=a(480),Y=a(487),$=a(32),Z=a(216),ee=a(37),te=a.n(ee),ae=c.a.memo((function(e){var t=[{name:"CPU",data:e.cpuMetrics}];return c.a.createElement(c.a.Fragment,null,c.a.createElement(te.a,{series:t,options:{chart:{type:"area",xaxis:{type:"category",categories:[],labels:{show:!0,rotate:45,rotateAlways:!0,hideOverlappingLabels:!0,trim:!0}},background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"CPU usage (in percent)",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.6,inverseColors:!0,opacityFrom:1,opacityTo:.2}}},height:"300",type:"area"}))})),ne=a(245),re=c.a.memo((function(e){var t=[{name:"Memory",data:e.memoryUsagePercentMetrics}];return c.a.createElement(c.a.Fragment,null,c.a.createElement(te.a,{series:t,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Memory (RAM) usage  (in percent)",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.6,inverseColors:!0,opacityFrom:1,opacityTo:.2}}},height:"300",type:"area"}))})),ce=c.a.memo((function(e){var t=[{name:"Disk IO in bytes (+ve means write / -ve means read)",data:e.diskIO}],a=[{name:"Cache (in bytes)",data:e.cache}];return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement(te.a,{series:t,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Disk IO in bytes (+ve means write / -ve means read)",align:"center"}},height:"300",type:"area"})),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(te.a,{series:a,options:{chart:{type:"area",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Cache (in bytes)",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.6,inverseColors:!0,opacityFrom:1,opacityTo:.2}}},height:"300",type:"area"})))})),le=c.a.memo((function(e){var t=[{name:"Available",data:e.availableBytes},{name:"Free",data:e.freeBytes},{name:"Total",data:e.totalBytes},{name:"Used",data:e.usedBytes}];return c.a.createElement(c.a.Fragment,null,c.a.createElement(te.a,{series:t,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Memory (RAM) details (in kilo-bytes)",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.1,inverseColors:!0,opacityFrom:.8,opacityTo:.2}}},height:"500",type:"area"}))}));!function(e){e[e.Microsecond=1e3]="Microsecond",e[e.Millisecond=1e6]="Millisecond",e[e.Second=1e9]="Second",e[e.Minute=6e10]="Minute",e[e.Hour=36e11]="Hour",e[e.Day=864e11]="Day"}(n||(n={}));var ie=function(e){var t=e.split("|"),a=t.length;return"".concat(t[a-3],":").concat(t[a-2],":").concat(t[a-1])},oe=n;function se(e){var t=e.children,a=e.value,n=e.index,r=Object(Z.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&c.a.createElement(ne.a,{p:3},t))}function ue(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var me=Object(k.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})),de=function(e){var t=e.showLoader,a=me(),n=Object(r.useState)({status:"",data:{}}),l=Object(o.a)(n,2),i=l[0],s=l[1],u=Object(r.useState)(""),m=Object(o.a)(u,2),d=m[0],f=m[1],p=c.a.useState(0),h=Object(o.a)(p,2),v=h[0],b=h[1],E=1e6*(new Date).getTime()-oe.Hour;Object(r.useEffect)((function(){t(!0)}),[t]),Object(r.useEffect)((function(){fetch("".concat(R,"/query?timeSeriesPath=storage/system&endTimestamp=").concat(E)).then((function(e){return e.json()})).then((function(e){s(e)}),(function(e){f(e)}))}),[]);if(d)return t(!1),c.a.createElement(J.a,{severity:"error"},"Unable to reach the service: error");if(!i.data.values)return c.a.createElement(c.a.Fragment,null,c.a.createElement(J.a,{severity:"info"},"Fetching data from sources"));var g=function(e){var t,a=[],n=[],r=[],c=[],l=[],i=[],o=[],s=[],u=Object($.a)(e);try{for(u.s();!(t=u.n()).done;){var m=t.value;a.push({y:m.value.cpuTotalUsage,x:ie(m.timestamp)}),n.push({y:m.value.disk.cached,x:ie(m.timestamp)}),r.push({y:m.value.disk.diskIO,x:ie(m.timestamp)}),c.push({y:m.value.memory.availableBytes,x:ie(m.timestamp)}),l.push({y:m.value.memory.freeBytes,x:ie(m.timestamp)}),i.push({y:m.value.memory.totalBytes,x:ie(m.timestamp)}),o.push({y:m.value.memory.usedBytes,x:ie(m.timestamp)}),s.push({y:m.value.memory.usedPercent,x:ie(m.timestamp)})}}catch(d){u.e(d)}finally{u.f()}return{cpuUsageSlice:a,diskSliceCache:n,diskSliceDiskIO:r,memorySliceAvailableBytes:c,memorySliceFreeBytes:l,memorySliceTotalBytes:i,memorySliceUsedBytes:o,memoryUsedPercentSlice:s}}(i.data.values);return t(!1),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12",style:{marginBottom:"1%"}},c.a.createElement("div",{className:a.root},c.a.createElement(y.a,{position:"static"},c.a.createElement(X.a,{value:v,onChange:function(e,t){b(t)},indicatorColor:"secondary"},c.a.createElement(Q.a,Object.assign({label:"System"},ue(0))),c.a.createElement(Q.a,Object.assign({label:"Disk"},ue(1))),c.a.createElement(Q.a,Object.assign({label:"Memory details"},ue(2))))),c.a.createElement(se,{value:v,index:0},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement(ae,{cpuMetrics:g.cpuUsageSlice})),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(re,{memoryUsagePercentMetrics:g.memoryUsedPercentSlice})))),c.a.createElement(se,{value:v,index:1},c.a.createElement("div",{className:"col-md-12"},c.a.createElement(ce,{diskIO:g.diskSliceDiskIO,cache:g.diskSliceCache}))),c.a.createElement(se,{value:v,index:2},c.a.createElement("div",{className:"col-md-12"},c.a.createElement(le,{availableBytes:g.memorySliceAvailableBytes,freeBytes:g.memorySliceFreeBytes,totalBytes:g.memorySliceTotalBytes,usedBytes:g.memorySliceUsedBytes}))))))},fe=a(481),pe=a(367),he=a.n(pe),ve=a(515),be=function(e){var t=e.slice,a=e.getRequestType,n=Object(r.useState)(!1),l=Object(o.a)(n,2),i=l[0],s=l[1],u=Object(r.useState)(""),m=Object(o.a)(u,2),d=m[0],f=m[1];return c.a.createElement("div",null,c.a.createElement(fe.a,{color:"primary",variant:"contained","aria-label":"outlined primary button group"},t.map((function(e,t){return c.a.createElement(F.a,{key:t,onClick:function(){return function(e){s(!0),f(e),a(e)}(e.toUpperCase())}},e.toUpperCase())}))),i?c.a.createElement(c.a.Fragment,null,c.a.createElement(he.a,{style:{marginLeft:"3%"},fontSize:"large",color:"secondary"})," ",c.a.createElement(ve.a,{color:"success",style:{fontSize:"13px",marginLeft:"1%"}},d)):null)},ye=function(e){var t=e.name,a=e.headers,n=e.updateParent,l=Object(r.useState)([{key:"",value:""}]),i=Object(o.a)(l,2),s=i[0],u=i[1],m=Object(r.useState)(""),d=Object(o.a)(m,2),f=d[0],p=d[1],h=function(e,t,a){""===e&&(s[a].value=t),""===t&&(s[a].key=e),a===s.length-1&&s.push({key:"",value:""}),p(JSON.stringify(s,null,4)),n(s)};return Object(r.useEffect)((function(){var e=a;(e||[]).push({key:"",value:""}),void 0===e&&(e=[{key:"",value:""}]),u(e),p(JSON.stringify(e,null,2))}),[a]),c.a.createElement("div",null,c.a.createElement("h6",{style:{fontWeight:"bold"}},t),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8",style:{display:"inline-grid"}},s.map((function(e,t){return c.a.createElement("div",{className:"row",style:{margin:"3px"},key:t},c.a.createElement("div",{className:"col-md-6"},c.a.createElement(T.a,{id:"outlined-basic",size:"small",label:"Key",value:e.key,style:{width:"100%"},variant:"outlined",onChange:function(e){return h(e.target.value,"",t)}})),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(T.a,{id:"outlined-basic",size:"small",value:e.value,style:{width:"100%"},label:"value",variant:"outlined",onChange:function(e){return h("",e.target.value,t)}})))}))),c.a.createElement("div",{className:"col-md-4"},c.a.createElement(T.a,{id:"outlined-multiline-flexible",label:"JSONified",multiline:!0,rows:3*s.length,value:f,variant:"outlined",onChange:function(e){return function(e){p(e);var t=JSON.parse(e);s.length=0;var a,r=Object($.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;s.push({key:c.key,value:c.value})}}catch(l){r.e(l)}finally{r.f()}u(s),n(s)}(e.target.value)},style:{minHeight:"100%",width:"100%",backgroundColor:"#f9f9f9"}}))))},Ee=a(482),ge=a(368),je=a.n(ge),Oe=a(325),ke=a(348),Se=a(488),we=a(214),xe=function(e){var t=new Map;return e.forEach((function(e){var a=e.URL;t.has(a)?t.set(a,[].concat(Object(we.a)(t.get(a)),[{method:e.Method,body:e.Body,headers:e.Header,params:e.Params}])):t.set(a,[{method:e.Method,body:e.Body,headers:e.Header,params:e.Params}])})),t},Ce=function(e){var t=[];return null!==e&&void 0!==e&&e.forEach((function(e){t.push({key:e.Name||e.OfType,value:e.Value})})),t},Ne=["get","post","put","delete","patch"],Re=["https","http","manual"];function Me(e){return c.a.createElement(J.a,Object.assign({elevation:6,variant:"filled"},e))}var Pe=function(e){var t=e.screenType,a=e.headers,n=e.params,l=e.route,i=e.body,s=e.method,u=e.updateCurrentModal,m=Object(r.useState)(""),d=Object(o.a)(m,2),f=d[0],p=d[1],h=Object(r.useState)(""),v=Object(o.a)(h,2)[1],b=Object(r.useState)(""),y=Object(o.a)(b,2),E=y[0],g=y[1],j=Object(r.useState)(!1),O=Object(o.a)(j,2),k=O[0],S=O[1],w=Object(r.useState)(),x=Object(o.a)(w,2),C=x[0],N=x[1],M=Object(r.useState)(!1),P=Object(o.a)(M,2),B=P[0],L=P[1],D=Object(r.useState)(),z=Object(o.a)(D,2),U=z[0],I=z[1],A=Object(r.useState)(!1),H=Object(o.a)(A,2),J=H[0],q=H[1],_=Object(r.useState)(),X=Object(o.a)(_,2),Q=X[0],Z=X[1],ee=Object(r.useState)(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)({severity:"info",message:""}),ce=Object(o.a)(re,2),le=ce[0],ie=ce[1],oe=Object(r.useState)(!1),se=Object(o.a)(oe,2),ue=se[0],me=se[1],de=Object(r.useState)(!1),fe=Object(o.a)(de,2),pe=fe[0],he=fe[1],ve=Object(r.useState)(!1),ge=Object(o.a)(ve,2),we=ge[0],xe=ge[1];Object(r.useEffect)((function(){if("config-screen"===t){var e=Ce(n),r=Ce(i),c=Ce(a);I(e),Z(r),N(c),p(s),g(l)}}),[i,a,s,n,l,t]);return c.a.createElement(Ee.a,null,c.a.createElement(W.a,null,c.a.createElement("h3",{style:{marginBottom:"2%"}},"Quick Input"),c.a.createElement("h6",{style:{color:"cadetblue"}},c.a.createElement(je.a,null)," Input routes into bench-routes for monitoring"),c.a.createElement("hr",null),c.a.createElement("div",{style:{margin:"2% 0% 2% 0%"}},c.a.createElement("h6",null,"HTTP methods"),c.a.createElement(be,{slice:Ne,getRequestType:function(e){p(e)}})),c.a.createElement("div",{style:{margin:"2% 0% 2% 0%"}},c.a.createElement("h6",null,"URL"),c.a.createElement(be,{slice:Re,getRequestType:function(e){v(e),e=e.toLowerCase(),g("manual"!==e?"".concat(e,"://"):"")}}),c.a.createElement(T.a,{id:"outlined-basic",style:{margin:"3vh 0vh 0vh 1vh",width:"100%"},value:E,onChange:function(e){g(e.target.value)},size:"medium",label:"URL route",variant:"outlined"})),c.a.createElement("div",{style:{border:"1px solid #c4c4c4",borderRadius:"1vh",padding:"2vh"}},c.a.createElement("h6",null,"Apply"),c.a.createElement("hr",null),c.a.createElement(Oe.a,{control:c.a.createElement(ke.a,{color:"primary",checked:k||(C||[]).length>0,onClick:function(){return S(!k)}}),label:"Header"}),c.a.createElement(Oe.a,{control:c.a.createElement(ke.a,{color:"primary",checked:B||(U||[]).length>0,onClick:function(){return L(!B)}}),label:"Params"}),c.a.createElement(Oe.a,{control:c.a.createElement(ke.a,{color:"primary",checked:J||(Q||[]).length>0,onClick:function(){return q(!J)}}),label:"Body"})),c.a.createElement("div",{style:{margin:"2%"}},k||(C||[]).length>0?c.a.createElement(ye,{name:"Header",headers:C,updateParent:N}):null,B||(U||[]).length>0?c.a.createElement(ye,{name:"Params",headers:U,updateParent:I}):null,J||(Q||[]).length>0?c.a.createElement(ye,{name:"Body",headers:Q,updateParent:Z}):null),c.a.createElement("div",null,"config-screen"===t?c.a.createElement(F.a,{variant:"contained",color:"primary",onClick:function(){return function(){var t={},a={},n={},r=e.route;if(xe(!1),void 0!==C){var c,l=Object($.a)(C);try{for(l.s();!(c=l.n()).done;){var i=c.value;""===i.key&&""===i.value||(a[i.key]=i.value)}}catch(v){l.e(v)}finally{l.f()}}else N([]);if(void 0!==U){var o,s=Object($.a)(U);try{for(s.s();!(o=s.n()).done;){var m=o.value;""===m.key&&""===m.value||(t[m.key]=m.value)}}catch(v){s.e(v)}finally{s.f()}}else I([]);if(void 0!==Q){var d,p=Object($.a)(Q);try{for(p.s();!(d=p.n()).done;){var h=d.value;""===h.key&&""===h.value||(n[h.key]=h.value)}}catch(v){p.e(v)}finally{p.f()}}else Z(Q);fetch("".concat(R,"/quick-input"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:f,url:E,params:t,headers:a,body:n})}).then((function(e){return e.json()})).then((function(e){try{var c=JSON.stringify(JSON.parse(e.data),null,4);ne(c),xe(!0)}catch(l){ne(e.data)}fetch("".concat(R,"/update-route"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:f,url:E,params:t,headers:a,body:n,orgRoute:r})}).then((function(e){return e.json()})).then((function(e){u(e,E),xe(!0)}))}))}()}},"Test & Save"):c.a.createElement(F.a,{variant:"contained",color:"primary",onClick:function(){return function(){var e={},t={},a={};if(xe(!1),void 0!==C){var n,r=Object($.a)(C);try{for(r.s();!(n=r.n()).done;){var c=n.value;t[c.key]=c.value}}catch(d){r.e(d)}finally{r.f()}}else N([]);if(void 0!==U){var l,i=Object($.a)(U);try{for(i.s();!(l=i.n()).done;){var o=l.value;e[o.key]=o.value}}catch(d){i.e(d)}finally{i.f()}}else I([]);if(void 0!==Q){var s,u=Object($.a)(Q);try{for(u.s();!(s=u.n()).done;){var m=s.value;a[m.key]=m.value}}catch(d){u.e(d)}finally{u.f()}}else Z(Q);fetch("".concat(R,"/quick-input"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:f,url:E,params:e,headers:t,body:a})}).then((function(e){return e.json()})).then((function(n){try{var r=JSON.stringify(JSON.parse(n.data),null,4);ne(r)}catch(c){ne(n.data)}fetch("".concat(R,"/add-route"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:f,url:E,params:e,headers:t,body:a})}).then((function(e){return e.json()})).then((function(){ie({severity:"success",message:"success"}),me(!0)}),(function(e){console.error(e),ie({severity:"error",message:"error occurred: please contact the dev team or open a issue at https://github.com/zairza-cetb/bench-routes"}),me(!0)})),xe(!0)}),(function(e){console.error(e),ie({severity:"error",message:"error occurred: please contact the dev team or open a issue at https://github.com/zairza-cetb/bench-routes"}),me(!0)}))}()}},"Test & Save"),c.a.createElement(F.a,{variant:"contained",color:"secondary",style:{marginLeft:"1%"},onClick:function(){return xe(!1),p(""),v(""),g(""),N([]),I([]),Z([]),S(!1),L(!1),void q(!1)}},"Cancel"),we?c.a.createElement(F.a,{variant:"contained",color:"default",style:{marginLeft:"1%"},onClick:function(){return he(!0)}},"Show Response"):null),c.a.createElement(V.a,{"aria-labelledby":"customized-dialog-title",open:pe},c.a.createElement(G.a,{id:"customized-dialog-title"},"Response"),c.a.createElement(K.a,{dividers:!0},c.a.createElement(Ee.a,null,c.a.createElement(W.a,null,c.a.createElement("pre",{style:{fontWeight:"bold"}},ae)))),c.a.createElement(Y.a,null,c.a.createElement(F.a,{onClick:function(){return he(!1)},color:"secondary"},"Close"))),c.a.createElement(Se.a,{open:ue,autoHideDuration:6e3,onClose:function(){return me(!1)}},c.a.createElement(Me,{severity:le.severity},le.message))))},Be=function(e){var t,a,n=e.isOpen,l=e.setOpen,i=e.selectedRoute,s=e.updateConfigRoutes,u=Object(r.useState)(""),m=Object(o.a)(u,2),d=m[0],f=m[1],p=Object(r.useState)(0),h=Object(o.a)(p,2),v=h[0],b=h[1],E=function(){l(!1)};Object(r.useEffect)((function(){b(0),f(i.route)}),[i]);return c.a.createElement("div",null,c.a.createElement(r.Suspense,{fallback:c.a.createElement(z.a,{disableShrink:!0})},c.a.createElement(V.a,{fullWidth:!0,maxWidth:"md",open:n,onClose:E,"aria-labelledby":"form-dialog-title"},c.a.createElement(G.a,{id:"form-dialog-title"},i?c.a.createElement("div",null,c.a.createElement(_.a,{variant:"outlined",size:"medium",style:{fontSize:"14px"},label:d,clickable:!0,color:"primary"})):c.a.createElement(c.a.Fragment,null," ")),c.a.createElement(K.a,null,c.a.createElement(y.a,{position:"static"},c.a.createElement(X.a,{value:v,onChange:function(e,t){b(t)},"aria-label":"Edit Route"},0!==Object.keys(i).length?null===i||void 0===i||null===(t=i.options)||void 0===t?void 0:t.map((function(e,t){return c.a.createElement(Q.a,Object.assign({key:t,label:e.method},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(t)))})):c.a.createElement(c.a.Fragment,null," "))),0!==Object.keys(i).length?null===i||void 0===i||null===(a=i.options)||void 0===a?void 0:a.map((function(e,t){return c.a.createElement(se,{key:t,value:v,index:t},c.a.createElement(Pe,{method:e.method,headers:e.headers,body:e.body,params:e.params,route:i.route,updateCurrentModal:function(e,t){return function(e,t){f(t),s(e)}(e,t)},screenType:"config-screen"}))})):c.a.createElement(c.a.Fragment,null," ")),c.a.createElement(Y.a,null,c.a.createElement(F.a,{onClick:E,color:"primary"},"Close")))))},Te=function(){var e=Object(B.a)(P.a.mark((function e(t){var a,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(R,"/get-config-intervals")).then((function(e){return e.json()}));case 3:a=e.sent,n=a.data,r=[],n.forEach((function(e){r.push({test:e.Test,duration:e.Duration,unit:e.Type})})),t(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(B.a)(P.a.mark((function e(t){var a,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/get-config-routes")).then((function(e){return e.json()}));case 2:a=e.sent,n=a.data,r=new Map,n.forEach((function(e){var t=e.URL;r.has(t)?r.set(t,[].concat(Object(we.a)(r.get(t)),[{method:e.Method,body:e.Body,headers:e.Header,params:e.Params}])):r.set(t,[{method:e.Method,body:e.Body,headers:e.Header,params:e.Params}])})),t(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=a(369),We=function(e,t){fetch("".concat(R,"/delete-route"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({actualRoute:e.route})}).then((function(e){return e.json()})).then((function(e){var a=e.data,n=xe(a);t(n)}),(function(e){console.error(e)}))},De=Object(r.lazy)((function(){return Promise.resolve().then(a.bind(null,369))})),ze=Object(k.a)((function(e){return{root:{diplay:"flex"},cardStyle:{minHeight:"8vh"},h6:{fontWeight:"normal"}}})),Ue=function(){var e=ze(),t=Object(r.useState)(null),a=Object(o.a)(t,2),n=a[0],l=a[1],i=Object(r.useState)(new Map),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(r.useState)({ping:!1,jitter:!1,"req-res-delay-and-monitoring":!1}),f=Object(o.a)(d,2),p=f[0],v=f[1],b=Object(r.useState)(!1),y=Object(o.a)(b,2),E=y[0],g=y[1],O=Object(r.useState)({route:"",options:[]}),k=Object(o.a)(O,2),S=k[0],w=k[1],x=H("".concat(R,"/service-state")),C=x.response,M=x.error;Object(r.useEffect)((function(){Te(l).then((function(){return Fe(m)}))}),[]);var P=function(e){switch(e){case"ping":v(Object(N.a)(Object(N.a)({},p),{},{ping:!p.ping}));break;case"jitter":v(Object(N.a)(Object(N.a)({},p),{},{jitter:!p.jitter}));break;case"req-res-delay-and-monitoring":v(Object(N.a)(Object(N.a)({},p),{},{"req-res-delay-and-monitoring":!p["req-res-delay-and-monitoring"]}))}};return M?c.a.createElement(J.a,{severity:"error"},"Unable to reach the service: error"):C.data?c.a.createElement(c.a.Fragment,null,c.a.createElement(U.a,{elevation:0,style:{marginBottom:"1%",padding:"1%"}},c.a.createElement(W.a,null,c.a.createElement("h4",null,"Scrape Intervals"),c.a.createElement("hr",null)),c.a.createElement(D.a,{container:!0,spacing:1},null===n||void 0===n?void 0:n.map((function(t){var a,n,r=t.test,l=t.duration,i=t.unit;return c.a.createElement(D.a,{item:!0,lg:3,sm:6,xl:3,xs:12,key:r},c.a.createElement(U.a,{className:e.cardStyle,elevation:0,variant:"outlined"},c.a.createElement(W.a,null,c.a.createElement(D.a,{container:!0,style:{justifyContent:"space-between"}},c.a.createElement(D.a,{item:!0},c.a.createElement(j.a,{gutterBottom:!0,variant:"h6",className:e.h6},(a=r.charAt(0).toUpperCase()+r.slice(1),n=14,a.length>n?a.substr(0,n-1)+"...":a))),c.a.createElement(D.a,{item:!0},p[r]?c.a.createElement(h.a,{title:"Cancel",style:{cursor:"pointer"}},c.a.createElement(I.a,{onClick:function(){return P(r)}})):c.a.createElement(h.a,{title:"Edit",style:{cursor:"pointer"}},c.a.createElement(A.a,{onClick:function(){return P(r)}})))),c.a.createElement(L,{reFetch:Te,toggleComponentView:function(e){return P(e)},toggleResults:p,durationValue:l,intervalName:r}),c.a.createElement(j.a,{variant:"body1",align:"center"},i))))})))),c.a.createElement(Be,{isOpen:E,setOpen:function(e){return g(e)},selectedRoute:S,updateConfigRoutes:function(e){return function(e){var t=e.data,a=xe(t);m(a)}(e)}}),c.a.createElement(r.Suspense,{fallback:c.a.createElement(z.a,{disableShrink:!0})},c.a.createElement(U.a,{elevation:0},c.a.createElement(De,{title:"URL endpoints",columns:Le.columns,data:function(e){var t=[];return e.forEach((function(e){var a=[];e[1].forEach((function(e){Object.keys(e).forEach((function(t){"method"===t&&a.push(e[t])}))})),t.push({route:e[0],methods:a})})),t}(Array.from(u)),actions:[{icon:q.a.Edit,tooltip:"Edit Route",onClick:function(e,t){w({route:t.route,options:u.get(t.route)}),g(!E)}}],editable:{onRowDelete:We}})))):c.a.createElement(J.a,{severity:"info"},"Fetching from sources")},Ie=function(){var e=me(),t=Object(r.useState)({status:"",data:{}}),a=Object(o.a)(t,2),n=a[0],l=a[1],i=Object(r.useState)(""),s=Object(o.a)(i,2),u=s[0],m=s[1],d=1e6*(new Date).getTime()-oe.Hour,f=c.a.useState(0),p=Object(o.a)(f,2),h=p[0],v=p[1];if(Object(r.useEffect)((function(){fetch("".concat(R,"/query?timeSeriesPath=storage/journal&endTimestamp=").concat(d)).then((function(e){return e.json()})).then((function(e){l(e)}),(function(e){m(e)}))}),[]),u)return c.a.createElement(J.a,{severity:"error"},"Unable to reach the service: error");if(!n.data)return c.a.createElement(J.a,{severity:"info"},"Fetching data from sources");var b=function(e){var t=[],a=[],n=[],r=[],c=[],l=[];if(!e)return{cerr:t,cwarn:a,cevents:n,ckerr:r,ckwarn:c,ckevents:l};var i,o=Object($.a)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.push({y:s.value.cerr,x:ie(s.timestamp)}),a.push({y:s.value.cwarn,x:ie(s.timestamp)}),n.push({y:s.value.cevents,x:ie(s.timestamp)}),r.push({y:s.value.ckerr,x:ie(s.timestamp)}),c.push({y:s.value.ckwarn,x:ie(s.timestamp)}),l.push({y:s.value.ckevents,x:ie(s.timestamp)})}}catch(u){o.e(u)}finally{o.f()}return{cerr:t,cwarn:a,cevents:n,ckerr:r,ckwarn:c,ckevents:l}}(n.data.values),E=[{name:"Errors",data:b.cerr},{name:"Warnings",data:b.cwarn},{name:"Events",data:b.cevents}],g=[{name:"Errors",data:b.ckerr},{name:"Warnings",data:b.ckwarn},{name:"Events",data:b.ckevents}];return c.a.createElement("div",{className:e.root},c.a.createElement(y.a,{position:"static"},c.a.createElement(X.a,{value:h,onChange:function(e,t){v(t)},indicatorColor:"secondary"},c.a.createElement(Q.a,Object.assign({label:"Kernel"},ue(0))),c.a.createElement(Q.a,Object.assign({label:"Systemd"},ue(1))))),c.a.createElement(se,{value:h,index:0},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement(te.a,{series:g,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Kernel",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.3,inverseColors:!0,opacityFrom:.8,opacityTo:.2}}},height:"300",type:"area"})))),c.a.createElement(se,{value:h,index:1},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement(te.a,{series:E,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Systemd services",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.3,inverseColors:!0,opacityFrom:.8,opacityTo:.2}}},height:"300",type:"area"})))))},Ae=function(e){var t=e.updateLoader;return t(!0),c.a.createElement(Ee.a,null,c.a.createElement(W.a,null,c.a.createElement("h4",null,"Dashboard"),c.a.createElement("hr",null),c.a.createElement(de,{showLoader:t}),c.a.createElement("hr",null),c.a.createElement(Ie,null)))},He=function(){return c.a.createElement("div",null,"FloodPing page")},Je=a(513),qe=function(e){var t=[{name:"min",data:e.value}];return c.a.createElement(te.a,{series:t,options:{chart:{type:"area",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"}},height:"300"})},Ve=function(e){var t;return e.startsWith("https://www.")?t=e.replace("https://www.",""):e.startsWith("https://")?t=e.replace("https://",""):e.startsWith("http://www.")?t=e.replace("http://www.",""):e.startsWith("http://")&&(t=e.replace("http://","")),t},Ge=function(e){var t,a=[],n=Object($.a)(e.values);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push({y:r.value.value,x:ie(r.timestamp)})}}catch(c){n.e(c)}finally{n.f()}return{jitter:a}},_e=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(null===a||void 0===a?void 0:a.testServicesRoutes[0]),i=Object(o.a)(l,1)[0],s=Object(r.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1],f=Object(r.useState)(!1),p=Object(o.a)(f,2),h=p[0],v=p[1],b=Object(r.useState)(),y=Object(o.a)(b,2),E=y[0],g=y[1],j=H("".concat(R,"/service-state")),O=j.response,k=j.error;function S(){return(S=Object(B.a)(P.a.mark((function e(t){var a,n,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ve(t),e.prev=1,e.next=4,fetch("".concat(R,"/query?timeSeriesPath=storage/jitter/chunk_jitter_").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,c=Ge(r.data),g(c),v(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}if(Object(r.useEffect)((function(){fetch("".concat(R,"/routes-summary")).then((function(e){return e.json()})).then((function(e){n(e.data)}))}),[]),k)return c.a.createElement(J.a,{severity:"error"},"Unable to reach the service: error");if(!O.data)return c.a.createElement(J.a,{severity:"info"},"Fetching from sources");var w=void 0!==(null===a||void 0===a?void 0:a.testServicesRoutes)?a.testServicesRoutes:["Please fill routes"];return c.a.createElement(Ee.a,null,c.a.createElement(W.a,null,c.a.createElement("div",null,c.a.createElement("h4",null,"Jitter"),c.a.createElement("div",{style:{float:"right",marginTop:"-45px"}},c.a.createElement(Je.a,{value:i,onChange:function(e,t){},inputValue:m,onInputChange:function(e,t){d(t),function(e){S.apply(this,arguments)}(t)},id:"controllable-states-demo",options:w,style:{width:300},renderInput:function(e){return c.a.createElement(T.a,Object.assign({},e,{label:"Select Route",variant:"outlined"}))}}))),c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement("div",null,void 0!==E&&h?c.a.createElement(qe,{value:E.jitter}):null)))},Ke=[{label:"Name",minWidth:170,align:"left"},{label:"Ping",minWidth:100,align:"center"},{label:"Jitter",minWidth:170,align:"center",format:function(e){return e.toLocaleString("en-US")}},{label:"Response time",minWidth:170,align:"center",format:function(e){return e.toLocaleString("en-US")}},{label:"Response length",minWidth:170,align:"center",format:function(e){return e.toFixed(2)}},{label:"Status",minWidth:170,align:"center",format:function(e){return e.toFixed(2)}},{label:"",minWidth:10,align:"center",format:function(e){return e.toFixed(2)}}],Xe=a(499),Qe=a(343),Ye=a(334),$e=a(328),Ze=a(341),et=a(335),tt=a(373),at=a.n(tt),nt=a(374),rt=a.n(nt),ct=function(e){var t=parseInt(e,10);return Math.round(10*t)/10},lt=function(){return c.a.createElement("span",null,"\xa0\xa0\xa0\xa0")},it=function(e){var t=e.timeSeriesPath,a=e.showRouteDetails,n=Object(r.useState)(),l=Object(o.a)(n,2),i=l[0],s=l[1],u=Object(r.useState)(0),m=Object(o.a)(u,2),d=m[0],f=m[1],p=Object(r.useState)(!0),v=Object(o.a)(p,2),b=v[0],y=v[1],E=Object(r.useState)(!1),g=Object(o.a)(E,2),j=g[0],O=g[1],k=1e6*(new Date).getTime()-oe.Hour,S=function(){var e=Object(B.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e,a){function n(){return(n=Object(B.a)(P.a.mark((function n(){var r,c;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(R,"/query-matrix?routeNameMatrix=").concat(t.path.matrixName,"&endTimestamp=").concat(k));case 3:return r=n.sent,n.next=6,r.json();case 6:c=n.sent,e(c.data),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0),O(!0),a(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,10]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()})),e.next=3,n;case 3:r=e.sent,a(!0,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(B.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,fetch("".concat(R,"/query-matrix?routeNameMatrix=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,s(n.data),setTimeout((function(){y(!1),O(!1)}),1e3),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),O(!0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t.path.matrixName)}),[d,t.path.matrixName]),i?(setTimeout((function(){f(d+1)}),1e4),c.a.createElement(et.a,null,c.a.createElement($e.a,{style:{maxWidth:240,fontSize:16,overflowX:"hidden"},align:"left"},c.a.createElement(ve.a,{color:"light"},c.a.createElement(h.a,{title:t.name},c.a.createElement("div",null,t.name)))),c.a.createElement($e.a,{style:{minWidth:100,fontSize:16},align:"center"},c.a.createElement(ve.a,{color:"warning"},void 0===i.ping?"-":c.a.createElement(c.a.Fragment,null,null===i.ping.values?"-":ct(i.ping.values[0].value.avgValue))," ","ms")),c.a.createElement($e.a,{style:{minWidth:120,fontSize:16},align:"center"},c.a.createElement(ve.a,{color:"warning"},void 0===i.jitter?"-":c.a.createElement(c.a.Fragment,null,null===i.jitter.values?"-":ct(i.jitter.values[0].value.value))," ","ms")),c.a.createElement($e.a,{style:{minWidth:150,fontSize:16},align:"center"},c.a.createElement(ve.a,{color:"warning"},void 0===i.monitor?"-":c.a.createElement(c.a.Fragment,null," ",null===i.monitor.values?"-":i.monitor.values[0].value.delay," ")," ","ms")),c.a.createElement($e.a,{style:{minWidth:170,fontSize:16},align:"center"},c.a.createElement(ve.a,{color:"warning"},void 0===i.monitor?"-":c.a.createElement(c.a.Fragment,null,null===i.monitor.values?"-":i.monitor.values[0].value.resLength))),c.a.createElement($e.a,{style:{minWidth:170,fontSize:16},align:"center"},c.a.createElement(ve.a,{color:"success"},"UP")),c.a.createElement($e.a,{style:{minWidth:10,fontSize:16},align:"center"},j?c.a.createElement(at.a,null):b?c.a.createElement(z.a,{disableShrink:!0,size:19,thickness:4}):c.a.createElement("span",{onClick:function(){return S(t)}},c.a.createElement(rt.a,{color:"primary"}))))):c.a.createElement(et.a,{className:"table-data-row",key:t.path.matrixName},c.a.createElement($e.a,{style:{width:170,fontSize:16,overflowX:"hidden"},align:"left"},c.a.createElement(ve.a,{color:"light"},t.name)),c.a.createElement($e.a,{style:{minWidth:100,fontSize:16},align:"center"}),c.a.createElement($e.a,{style:{minWidth:170,fontSize:16},align:"center"}),c.a.createElement($e.a,{style:{minWidth:170},align:"center"}),c.a.createElement($e.a,{style:{minWidth:170},align:"center"}),c.a.createElement($e.a,{style:{minWidth:170,fontSize:16},align:"center"}),c.a.createElement($e.a,{style:{minWidth:10,fontSize:16},align:"center"},b?c.a.createElement(z.a,{disableShrink:!0,size:15,thickness:4}):c.a.createElement(lt,null)))},ot=function(e){var t=e.timeSeriesPath,a=e.showRouteDetails;return c.a.createElement(Xe.a,{style:{maxHeight:"100vh",overflowY:"hidden"}},c.a.createElement(Qe.a,{stickyHeader:!0},c.a.createElement(Ze.a,null,c.a.createElement(et.a,null,Ke.map((function(e,t){return c.a.createElement($e.a,{key:t,align:e.align,style:{minWidth:e.minWidth,fontWeight:600,fontSize:15}},e.label)})))),c.a.createElement(Ye.a,null,t.map((function(e,t){return c.a.createElement(it,{timeSeriesPath:e,showRouteDetails:a,key:t})})))))},st=function(e){var t=[{name:"CPU",data:e.resLength}];return c.a.createElement(te.a,{series:t,options:{chart:{type:"area",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"}},height:"300"})},ut=function(e){var t=[{name:"CPU",data:e.delay}];return c.a.createElement(te.a,{series:t,options:{chart:{type:"area",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"}},height:"300"})},mt=function(e){var t=[{name:"min",data:e.min},{name:"mean",data:e.mean},{name:"max",data:e.max}];return c.a.createElement(te.a,{series:t,options:{chart:{type:"area",xaxis:{type:"category",categories:[],labels:{show:!0,rotate:0,rotateAlways:!1,hideOverlappingLabels:!0,trim:!0}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"}},height:"300"})},dt=a(375),ft=a.n(dt);function pt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function ht(e){var t=e.children,a=e.value,n=e.index,r=Object(Z.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&c.a.createElement(ne.a,{p:3},t))}var vt=function(e){var t=e.routesChains,a=e.showDetails,n=c.a.useState(0),r=Object(o.a)(n,2),l=r[0],i=r[1],s=function(e){var t,a=[],n=[],r=[],c=[],l=[],i=[],o=Object($.a)(e.monitor.values);try{for(o.s();!(t=o.n()).done;){var s=t.value;a.push({y:s.value.delay,x:ie(s.timestamp)}),n.push({y:s.value.resLength,x:ie(s.timestamp)})}}catch(v){o.e(v)}finally{o.f()}var u,m=Object($.a)(e.ping.values);try{for(m.s();!(u=m.n()).done;){var d=u.value;r.push({y:d.value.minValue,x:ie(d.timestamp)}),c.push({y:d.value.avgValue,x:ie(d.timestamp)}),l.push({y:d.value.maxValue,x:ie(d.timestamp)})}}catch(v){m.e(v)}finally{m.f()}var f,p=Object($.a)(e.jitter.values);try{for(p.s();!(f=p.n()).done;){var h=f.value;i.push({y:h.value.value,x:ie(h.timestamp)})}}catch(v){p.e(v)}finally{p.f()}return{responseDetailsDelay:a,responseDetailsResponse:n,pingMin:r,pingMean:c,pingMax:l,jitter:i}}(t);return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{onClick:function(){return a(!1,t)}},c.a.createElement(ft.a,{color:"primary",fontSize:"large"})),c.a.createElement("hr",null),c.a.createElement(y.a,{position:"static"},c.a.createElement(X.a,{value:l,onChange:function(e,t){i(t)},indicatorColor:"secondary"},c.a.createElement(Q.a,Object.assign({label:"Response length"},pt(0))),c.a.createElement(Q.a,Object.assign({label:"Response delay"},pt(1))),c.a.createElement(Q.a,Object.assign({label:"Ping"},pt(2))),c.a.createElement(Q.a,Object.assign({label:"Jitter"},pt(3))))),c.a.createElement(ht,{value:l,index:0},c.a.createElement(st,{resLength:s.responseDetailsResponse})),c.a.createElement(ht,{value:l,index:1},c.a.createElement(ut,{delay:s.responseDetailsDelay})),c.a.createElement(ht,{value:l,index:2},c.a.createElement(mt,{min:s.pingMin,mean:s.pingMean,max:s.pingMax})),c.a.createElement(ht,{value:l,index:3},c.a.createElement(qe,{value:s.jitter})))},bt=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1];Object(r.useEffect)((function(){l()}),[]);var l=function(){fetch("".concat(R,"/get-monitoring-services-state")).then((function(e){return e.json()})).then((function(e){"active"===e.data?n(!0):n(!1)}))};return c.a.createElement(v.a,{checked:a,color:"primary",onChange:function(){fetch("".concat(R,"/update-monitoring-services-state?state=").concat(a?"stop":"start")).then((function(e){return e.json()})).then((function(e){e&&n(!a)}))}})},yt=function(e){var t=e.updateLoader,a=H("".concat(R,"/get-route-time-series")),n=a.response,l=a.error,i=Object(r.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(r.useState)(),f=Object(o.a)(d,2),p=f[0],h=f[1],v=function(e,t){m(e),h(t)};return Object(r.useEffect)((function(){t(!0)}),[t]),l?c.a.createElement(Ee.a,null,c.a.createElement(W.a,null,c.a.createElement("h4",null,"Monitoring"),c.a.createElement("hr",null),c.a.createElement(J.a,{severity:"error"},"Unable to reach the service: error"))):n.data?(t(!1),c.a.createElement(Ee.a,null,c.a.createElement(W.a,null,u&&p?c.a.createElement(vt,{routesChains:p,showDetails:v}):c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,"Monitoring ",c.a.createElement(bt,null)),c.a.createElement("hr",null),c.a.createElement(ot,{timeSeriesPath:n.data,showRouteDetails:v}))))):c.a.createElement(Ee.a,null,c.a.createElement(W.a,null,c.a.createElement("h4",null,"Monitoring"),c.a.createElement("hr",null),c.a.createElement(J.a,{severity:"info"},"Fetching data from sources")))},Et=function(e){var t,a=[],n=[],r=[],c=Object($.a)(e.values);try{for(c.s();!(t=c.n()).done;){var l=t.value;a.push({y:l.value.minValue,x:ie(l.timestamp)}),n.push({y:l.value.avgValue,x:ie(l.timestamp)}),r.push({y:l.value.maxValue,x:ie(l.timestamp)})}}catch(i){c.e(i)}finally{c.f()}return{pingMin:a,pingMean:n,pingMax:r}},gt=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(null===a||void 0===a?void 0:a.testServicesRoutes[0]),i=Object(o.a)(l,1)[0],s=Object(r.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1],f=Object(r.useState)(!1),p=Object(o.a)(f,2),h=p[0],v=p[1],b=Object(r.useState)(),y=Object(o.a)(b,2),E=y[0],g=y[1],j=H("".concat(R,"/service-state")),O=j.response,k=j.error;function S(){return(S=Object(B.a)(P.a.mark((function e(t){var a,n,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ve(t),e.prev=1,e.next=4,fetch("".concat(R,"/query?timeSeriesPath=storage/ping/chunk_ping_").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,c=Et(r.data),g(c),v(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}if(Object(r.useEffect)((function(){fetch("".concat(R,"/routes-summary")).then((function(e){return e.json()})).then((function(e){n(e.data)}))}),[]),k)return c.a.createElement(J.a,{severity:"error"},"Unable to reach the service: error");if(!O.data)return c.a.createElement(J.a,{severity:"info"},"Fetching from sources");var w=void 0!==(null===a||void 0===a?void 0:a.testServicesRoutes)?a.testServicesRoutes:["Please fill routes"];return c.a.createElement(Ee.a,null,c.a.createElement(W.a,null,c.a.createElement("div",null,c.a.createElement("h4",null,"Ping"),c.a.createElement("div",{style:{float:"right",marginTop:"-45px"}},c.a.createElement(Je.a,{value:i,onChange:function(e,t){},inputValue:m,onInputChange:function(e,t){d(t),function(e){S.apply(this,arguments)}(t)},id:"controllable-states-demo",options:w,style:{width:300},renderInput:function(e){return c.a.createElement(T.a,Object.assign({},e,{label:"Select Route",variant:"outlined"}))}}))),c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement("div",null,void 0!==E&&h?c.a.createElement(mt,{min:E.pingMin,mean:E.pingMean,max:E.pingMax}):null)))},jt=function(e){var t=e.updateLoader;return c.a.createElement(x.a,null,c.a.createElement(C.c,null,c.a.createElement(C.a,{exact:!0,path:"/",render:function(e){return c.a.createElement(Ae,{updateLoader:t})}}),c.a.createElement(C.a,{exact:!0,path:"/monitoring",render:function(e){return c.a.createElement(yt,{updateLoader:t})}}),c.a.createElement(C.a,{path:"/ping",component:gt}),c.a.createElement(C.a,{path:"/floodping",component:He}),c.a.createElement(C.a,{path:"/jitter",component:_e}),c.a.createElement(C.a,{path:"/quick-input",component:Pe}),c.a.createElement(C.a,{path:"/configurations",component:Ue})))},Ot=a(194),kt=a(467),St=a(496),wt=a(340),xt=a(492),Ct=a(463),Nt=a(74),Rt=a(495),Mt=a(502),Pt=a(503),Bt=a(504),Tt=a(505),Ft=a(506),Lt=a(507),Wt=a(508),Dt=a(509),zt=Object(k.a)((function(e){return{root:{display:"flex"},nested:{paddingLeft:e.spacing(4),backgroundColor:"#DCDCDC"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Ot.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),toolbarIcon:Object(N.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),settings:{position:"absolute",bottom:0,alignItems:"center"}}})),Ut=function(e){var t=e.handleDrawerClose,a=e.open,n=zt(),l=Object(r.useState)(!1),i=Object(o.a)(l,2),s=i[0],u=i[1],m=function(){u(!s)},d=c.a.createElement("div",null,c.a.createElement(kt.a,{button:!0,component:x.b,to:"/"},c.a.createElement(St.a,null,c.a.createElement(Mt.a,null)),c.a.createElement(wt.a,{primary:"Dashboard"})),c.a.createElement(kt.a,{button:!0,component:x.b,to:"/monitoring"},c.a.createElement(St.a,null,c.a.createElement(Pt.a,null)),c.a.createElement(wt.a,{primary:"Monitoring"})),c.a.createElement(kt.a,{button:!0,component:x.b,to:"/quick-input"},c.a.createElement(St.a,null,c.a.createElement(Bt.a,null)),c.a.createElement(wt.a,{primary:"Quick Input"})),c.a.createElement(kt.a,{button:!0},c.a.createElement(St.a,null,c.a.createElement(Tt.a,null)),c.a.createElement(wt.a,{primary:"Tests",onClick:m}),a?c.a.createElement(Ft.a,{onClick:m}):c.a.createElement(Lt.a,{onClick:m})),c.a.createElement(xt.a,{in:s,timeout:"auto",unmountOnExit:!0},c.a.createElement(Ct.a,{component:"div",disablePadding:!0},c.a.createElement(kt.a,{button:!0,component:x.b,to:"/ping",className:n.nested},c.a.createElement(St.a,null,c.a.createElement(Mt.a,null)),c.a.createElement(wt.a,{primary:"Ping"})),c.a.createElement(kt.a,{button:!0,component:x.b,to:"/floodping",className:n.nested},c.a.createElement(St.a,null,c.a.createElement(Mt.a,null)),c.a.createElement(wt.a,{primary:"FloodPing"})),c.a.createElement(kt.a,{button:!0,component:x.b,to:"/jitter",className:n.nested},c.a.createElement(St.a,null,c.a.createElement(Mt.a,null)),c.a.createElement(wt.a,{primary:"Jitter"})))),c.a.createElement(kt.a,{button:!0,component:x.b,to:"/configurations"},c.a.createElement(St.a,null,c.a.createElement(Wt.a,null)),c.a.createElement(wt.a,{primary:"Config"})));return c.a.createElement("div",{className:n.root},c.a.createElement(x.a,null,c.a.createElement(Nt.a,{variant:"permanent",classes:{paper:Object(w.a)(n.drawerPaper,!a&&n.drawerPaperClose)},open:a},c.a.createElement("div",{className:n.toolbarIcon},c.a.createElement(g.a,{onClick:t},c.a.createElement(Dt.a,null))),c.a.createElement(Rt.a,null),c.a.createElement(Ct.a,null,d))))},It=Object(k.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},toolbar:{paddingRight:24},menuButton:{marginRight:36},menuButtonHidden:{display:"none"}}})),At=Object(k.a)((function(e){return{root:{display:"flex"},color:{primary:e.palette.primary},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));function Ht(e){var t=At(),a=It(),n=Object(r.useState)(!1),l=Object(o.a)(n,2),i=l[0],s=l[1],u=Object(r.useCallback)((function(e){s(e)}),[]),m=Object(r.useState)(!0),d=Object(o.a)(m,2),f=d[0],k=d[1];return c.a.createElement("div",{className:t.root},c.a.createElement(p.a,null),c.a.createElement("div",{className:"_navbar"},c.a.createElement(y.a,{position:"absolute",className:Object(w.a)(a.appBar,f&&a.appBarShift)},c.a.createElement(E.a,{className:a.toolbar},c.a.createElement(g.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){k(!0)},className:Object(w.a)(a.menuButton,f&&a.menuButtonHidden)},c.a.createElement(S.a,null)),c.a.createElement(j.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},"Bench Routes"),c.a.createElement(h.a,{title:"Dark Mode"},c.a.createElement(v.a,{checked:e.darkMode,onChange:function(){var t=e.darkMode;(0,e.toggleDarkMode)(!t)},color:"default",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}))),i?c.a.createElement(O.a,null):null)),c.a.createElement(Ut,{handleDrawerClose:function(){k(!1)},open:f}),c.a.createElement("main",{className:t.content},c.a.createElement("div",{className:t.appBarSpacer}),c.a.createElement(b.a,{maxWidth:"lg",className:t.container},c.a.createElement(jt,{updateLoader:u}))))}var Jt=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],l=Object(m.a)({palette:{type:a?"dark":"light",primary:s.a},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),fontSize:12},overrides:{MuiAppBar:{colorPrimary:{backgroundColor:a?u.a[700]:s.a[500]}}}});return l=Object(d.a)(l),c.a.createElement(f.a,{theme:l},c.a.createElement(Ht,{toggleDarkMode:function(){n(!a)},darkMode:a}))};a(454),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(Jt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[385,1,2]]]);
//# sourceMappingURL=main.8fc1ca25.chunk.js.map