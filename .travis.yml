os:
  - linux
  - mac
sudo: required

services:
  - docker

language:
  - go

go:
  1.12.x

notifications:
  email: truemac

jobs:
  include:
    - stage: test
      script:
        - go get -u ./...
        - echo "running tests recursively ..."
        - go test -v ./...
    - stage: build
      script:
        - go get -u ./...
        - ./shell/go-build-all.sh
